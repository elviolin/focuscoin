import { useState } from "react"
import { motion, AnimatePresence } from "framer-motion"

const COMPETITORS_DB = {
    ì—´í’ˆíƒ€: {
        category: "ìŠ¤í„°ë””ì•±",
        features: ["íƒ€ì´ë¨¸ ê¸°ëŠ¥", "ìŠ¤í„°ë””ê·¸ë£¹", "ìˆœìœ„ ê²½ìŸ"],
        weaknesses: ["ë¦¬ì›Œë“œ ì—†ìŒ", "ê´‘ê³  ìˆìŒ"],
    },
    í¬ë ˆìŠ¤íŠ¸: {
        category: "ì§‘ì¤‘ì•±",
        features: ["ë‚˜ë¬´ ì‹¬ê¸°", "í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸"],
        weaknesses: ["ìœ ë£Œ ì•±", "ì‹¤ì§ˆì  ë³´ìƒ ì—†ìŒ"],
    },
    ìºì‹œì›Œí¬: {
        category: "ë¦¬ì›Œë“œì•±",
        features: ["ê±·ê¸° ë¦¬ì›Œë“œ", "í¬ì¸íŠ¸ ì ë¦½"],
        weaknesses: ["ê´‘ê³  ë§ìŒ", "íœ´ëŒ€í° ì‚¬ìš©ê³¼ ë¬´ê´€"],
    },
    í† ìŠ¤: {
        category: "ë¦¬ì›Œë“œì•±",
        features: ["ë§Œë³´ê¸°", "ê´‘ê³  ë¦¬ì›Œë“œ"],
        weaknesses: ["íœ´ëŒ€í° ì‚¬ìš© ì‹œê°„ê³¼ ë¬´ê´€"],
    },
    íƒ€ì´ë¨¸ìº£: {
        category: "ìŠ¤í„°ë””ì•±",
        features: ["ê·€ì—¬ìš´ ìºë¦­í„°", "íƒ€ì´ë¨¸"],
        weaknesses: ["ë¦¬ì›Œë“œ ì—†ìŒ", "ê¸°ëŠ¥ ë‹¨ìˆœ"],
    },
    YPT: {
        category: "ìŠ¤í„°ë””ì•±",
        features: ["íƒ€ì´ë¨¸", "ê³¼ëª©ë³„ ê´€ë¦¬"],
        weaknesses: ["ë¦¬ì›Œë“œ ì—†ìŒ", "ë³µì¡í•œ UI"],
    },
    ìŠ¤í„°ë””í—¬í¼: {
        category: "ìŠ¤í„°ë””ì•±",
        features: ["ê³µë¶€ ê¸°ë¡", "ëª©í‘œ ì„¤ì •"],
        weaknesses: ["ì˜¤ë˜ëœ UI", "ë¦¬ì›Œë“œ ì—†ìŒ"],
    },
    í˜ì´ì½”: {
        category: "ë¦¬ì›Œë“œì•±",
        features: ["í¬ì¸íŠ¸ ì ë¦½", "ê²°ì œ"],
        weaknesses: ["íœ´ëŒ€í° ì‚¬ìš©ê³¼ ë¬´ê´€"],
    },
}

const FOCUSCOIN_INFO = {
    name: "í¬ì»¤ìŠ¤ì½”ì¸",
    tagline: "íœ´ëŒ€í° ì•ˆ ë³¸ ì‹œê°„ë§Œí¼ ëˆìœ¼ë¡œ ì£¼ëŠ” ë¦¬ì›Œë“œì•±",
    features: [
        "5ë¶„ë§ˆë‹¤ 1ìºì‹œ ì ë¦½",
        "ê´‘ê³  ì—†ìŒ",
        "ìœ ë£Œ ê¸°ëŠ¥ ì „ë¶€ ë¬´ë£Œ",
        "ë„¤ì´ë²„í˜ì´/ì‹ ì„¸ê³„ ìƒí’ˆê¶Œ êµí™˜",
    ],
    result: "í° ë³´ëŠ” ì‹œê°„ 4ì‹œê°„ì—ì„œ 1ì‹œê°„ ë°˜ìœ¼ë¡œ ê°ì†Œ",
}

const getPrompt = (format: string, competitors: string[]) => {
    const competitorInfo = competitors
        .map((name) => {
            const info = COMPETITORS_DB[name as keyof typeof COMPETITORS_DB]
            return `${name} (${info.category}): ì¥ì -${info.features.join(", ")} / ë‹¨ì -${info.weaknesses.join(", ")}`
        })
        .join("\n")

    const baseInfo = `
[í¬ì»¤ìŠ¤ì½”ì¸ ì•± ì •ë³´]
- ì»¨ì…‰: ${FOCUSCOIN_INFO.tagline}
- í•µì‹¬ ê¸°ëŠ¥: ${FOCUSCOIN_INFO.features.join(", ")}
- ì‹¤ì œ íš¨ê³¼: ${FOCUSCOIN_INFO.result}

[ê²½ìŸì‚¬ ë¶„ì„]
${competitorInfo}
`

    if (format === "instagram") {
        return `ë‹¹ì‹ ì€ í•œêµ­ MZì„¸ëŒ€ íƒ€ê²Ÿ SNS ë§ˆì¼€í„°ì…ë‹ˆë‹¤.
${baseInfo}
ìœ„ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì¸ìŠ¤íƒ€ê·¸ë¨ ìºëŸ¬ì…€ ê´‘ê³ ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.

[ì‘ì„± ê·œì¹™]
- 5ì¥ ìŠ¬ë¼ì´ë“œ êµ¬ì„±
- ê° ìŠ¬ë¼ì´ë“œ: ì œëª© + ë³¸ë¬¸ (2-3ì¤„)
- MZ ë§íˆ¬ (ë°˜ë§, ê³µê°í˜•)
- ìˆœì„œ: í›„í‚¹ â†’ ë¬¸ì œ â†’ ì†”ë£¨ì…˜ â†’ ì°¨ë³„ì  â†’ CTA
- ë§ˆì§€ë§‰ì— í•´ì‹œíƒœê·¸ 5ê°œ

[ì¶œë ¥ í˜•ì‹]
ìŠ¬ë¼ì´ë“œ 1 - í›„í‚¹
ì œëª©: (ì œëª©)
ë³¸ë¬¸: (ë‚´ìš©)

ìŠ¬ë¼ì´ë“œ 2 - ë¬¸ì œ
...`
    }

    if (format === "blog") {
        return `ë‹¹ì‹ ì€ ë„¤ì´ë²„ ë¸”ë¡œê·¸ ë§ˆì¼€íŒ… ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
${baseInfo}
ìœ„ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë¸”ë¡œê·¸ ë¦¬ë·° í˜•ì‹ ê´‘ê³ ê¸€ì„ ì‘ì„±í•´ì£¼ì„¸ìš”.

[ì‘ì„± ê·œì¹™]
- 1500ì ë‚´ì™¸
- 1ì¸ì¹­ ê²½í—˜ë‹´ í˜•ì‹
- ë„ì…: íœ´ëŒ€í° ì¤‘ë… ê³ ë¯¼ ê³µê°
- ì¤‘ë°˜: ì•± ì‚¬ìš© í›„ê¸° + ê²½ìŸì•± ë¹„êµ
- ë§ˆë¬´ë¦¬: ì¶”ì²œ + ë‹¤ìš´ë¡œë“œ ìœ ë„
- ìì—°ìŠ¤ëŸ½ê³  ì†”ì§í•œ í†¤`
    }

    return `ë‹¹ì‹ ì€ í‹±í†¡/ë¦´ìŠ¤ ì „ë¬¸ í¬ë¦¬ì—ì´í„°ì…ë‹ˆë‹¤.
${baseInfo}
ìœ„ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ 30-45ì´ˆ ìˆí¼ ì˜ìƒ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.

[ì‘ì„± ê·œì¹™]
- ì²« 3ì´ˆ ê°•ë ¥í•œ í›„í‚¹
- ì¥ë©´ë³„ êµ¬ë¶„ (ìë§‰ + ë‚˜ë ˆì´ì…˜)
- ë¹ ë¥¸ ì „ê°œ, ê°ì • ì „ë‹¬ ìš°ì„ 
- ìì—°ìŠ¤ëŸ¬ìš´ CTA

[ì¶œë ¥ í˜•ì‹]
[0:00-0:03] í›„í‚¹
í™”ë©´: (ì—°ì¶œ)
ìë§‰: (í…ìŠ¤íŠ¸)
ë‚˜ë ˆì´ì…˜: (ëŒ€ì‚¬)
...`
}

export default function FocusCoinAdGenerator() {
    const [selectedCompetitors, setSelectedCompetitors] = useState<string[]>([])
    const [selectedFormat, setSelectedFormat] = useState<string | null>(null)
    const [generatedAd, setGeneratedAd] = useState("")
    const [isLoading, setIsLoading] = useState(false)
    const [error, setError] = useState("")

    const API_KEY =
        "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"

    const toggleCompetitor = (name: string) => {
        setSelectedCompetitors((prev) =>
            prev.includes(name)
                ? prev.filter((c) => c !== name)
                : [...prev, name]
        )
    }

    const generateAd = async () => {
        if (selectedCompetitors.length === 0) {
            setError("ê²½ìŸì‚¬ë¥¼ 1ê°œ ì´ìƒ ì„ íƒí•´ì£¼ì„¸ìš”")
            return
        }
        if (!selectedFormat) {
            setError("ê´‘ê³  í¬ë§·ì„ ì„ íƒí•´ì£¼ì„¸ìš”")
            return
        }

        setIsLoading(true)
        setError("")
        setGeneratedAd("")

        const prompt = getPrompt(selectedFormat, selectedCompetitors)

        try {
            const response = await fetch(
                "https://api.openai.com/v1/chat/completions",
                {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        Authorization: "Bearer " + API_KEY,
                    },
                    body: JSON.stringify({
                        model: "gpt-4o",
                        messages: [
                            {
                                role: "system",
                                content:
                                    "ë‹¹ì‹ ì€ í•œêµ­ ì•± ë§ˆì¼€íŒ… ì „ë¬¸ê°€ì…ë‹ˆë‹¤. í† ìŠ¤, ë‹¹ê·¼ë§ˆì¼“ ìŠ¤íƒ€ì¼ì˜ ê¹”ë”í•˜ê³  íŠ¸ë Œë””í•œ ì¹´í”¼ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.",
                            },
                            { role: "user", content: prompt },
                        ],
                        temperature: 0.8,
                        max_tokens: 2000,
                    }),
                }
            )

            const data = await response.json()

            if (data.error) {
                throw new Error(data.error.message)
            }

            if (data.choices && data.choices[0]) {
                setGeneratedAd(data.choices[0].message.content)
            }
        } catch (err: any) {
            setError(err.message || "ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤")
        } finally {
            setIsLoading(false)
        }
    }

    const copyToClipboard = () => {
        navigator.clipboard.writeText(generatedAd)
    }

    const formatLabels: Record<
        string,
        { label: string; icon: string; desc: string }
    > = {
        instagram: { label: "ì¸ìŠ¤íƒ€ê·¸ë¨", icon: "ğŸ“¸", desc: "ìºëŸ¬ì…€ ê´‘ê³ " },
        blog: { label: "ë¸”ë¡œê·¸", icon: "ğŸ“", desc: "ë¦¬ë·°í˜• í¬ìŠ¤íŒ…" },
        tiktok: { label: "í‹±í†¡", icon: "ğŸ¬", desc: "ìˆí¼ ìŠ¤í¬ë¦½íŠ¸" },
    }

    return (
        <div
            style={{
                display: "flex",
                height: "100vh",
                background: "#F5F6F8",
                fontFamily: "Pretendard, -apple-system, sans-serif",
            }}
        >
            <style>{`@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');`}</style>

            {/* Left Panel */}
            <div
                style={{
                    width: 420,
                    background: "white",
                    borderRight: "1px solid #E5E8EB",
                    padding: 32,
                    overflowY: "auto",
                    flexShrink: 0,
                }}
            >
                {/* Header */}
                <div style={{ marginBottom: 32 }}>
                    <div
                        style={{
                            display: "inline-flex",
                            alignItems: "center",
                            gap: 6,
                            padding: "6px 12px",
                            background: "rgba(0,214,143,0.1)",
                            borderRadius: 100,
                            marginBottom: 12,
                        }}
                    >
                        <span
                            style={{
                                fontSize: 13,
                                fontWeight: 600,
                                color: "#00A66E",
                            }}
                        >
                            â± FocusCoin
                        </span>
                    </div>
                    <h1
                        style={{
                            fontSize: 24,
                            fontWeight: 700,
                            color: "#191F28",
                            margin: 0,
                            marginBottom: 6,
                        }}
                    >
                        AI ê´‘ê³  ìƒì„±ê¸°
                    </h1>
                    <p style={{ fontSize: 14, color: "#8B95A1", margin: 0 }}>
                        ê²½ìŸì‚¬ ë¶„ì„ ê¸°ë°˜ ë§ì¶¤ ë§ˆì¼€íŒ… ì¹´í”¼
                    </p>
                </div>

                {/* API Status */}
                <div
                    style={{
                        display: "flex",
                        alignItems: "center",
                        gap: 10,
                        padding: "14px 16px",
                        background: "#FAFAFA",
                        borderRadius: 12,
                        marginBottom: 24,
                    }}
                >
                    <div
                        style={{
                            width: 36,
                            height: 36,
                            borderRadius: 10,
                            background: "rgba(0,214,143,0.1)",
                            display: "flex",
                            alignItems: "center",
                            justifyContent: "center",
                        }}
                    >
                        âœ“
                    </div>
                    <div>
                        <div
                            style={{
                                fontSize: 14,
                                fontWeight: 500,
                                color: "#191F28",
                            }}
                        >
                            OpenAI API Key
                        </div>
                        <div style={{ fontSize: 12, color: "#00A66E" }}>
                            ì—°ê²°ë¨
                        </div>
                    </div>
                </div>

                {/* Competitors */}
                <div style={{ marginBottom: 24 }}>
                    <div
                        style={{
                            fontSize: 14,
                            fontWeight: 600,
                            color: "#191F28",
                            marginBottom: 4,
                        }}
                    >
                        ê²½ìŸì‚¬ ì„ íƒ
                    </div>
                    <div
                        style={{
                            fontSize: 12,
                            color: "#8B95A1",
                            marginBottom: 12,
                        }}
                    >
                        ë¹„êµ ë¶„ì„í•  ì•±ì„ ì„ íƒí•˜ì„¸ìš”
                    </div>
                    <div
                        style={{
                            display: "grid",
                            gridTemplateColumns: "1fr 1fr",
                            gap: 8,
                        }}
                    >
                        {Object.entries(COMPETITORS_DB).map(([name, info]) => {
                            const isSelected =
                                selectedCompetitors.includes(name)
                            return (
                                <button
                                    key={name}
                                    onClick={() => toggleCompetitor(name)}
                                    style={{
                                        padding: "12px 14px",
                                        background: isSelected
                                            ? "rgba(0,214,143,0.08)"
                                            : "#FAFAFA",
                                        border: isSelected
                                            ? "1.5px solid #00D68F"
                                            : "1.5px solid transparent",
                                        borderRadius: 12,
                                        textAlign: "left",
                                        cursor: "pointer",
                                    }}
                                >
                                    <div
                                        style={{
                                            fontSize: 14,
                                            fontWeight: 600,
                                            color: isSelected
                                                ? "#00A66E"
                                                : "#191F28",
                                        }}
                                    >
                                        {name}
                                    </div>
                                    <div
                                        style={{
                                            fontSize: 11,
                                            color: "#8B95A1",
                                        }}
                                    >
                                        {info.category}
                                    </div>
                                </button>
                            )
                        })}
                    </div>
                    {selectedCompetitors.length > 0 && (
                        <div
                            style={{
                                marginTop: 12,
                                padding: "10px 14px",
                                background: "#F8F9FA",
                                borderRadius: 10,
                                fontSize: 12,
                                color: "#4E5968",
                            }}
                        >
                            <strong>{selectedCompetitors.length}ê°œ</strong>{" "}
                            ì„ íƒë¨: {selectedCompetitors.join(", ")}
                        </div>
                    )}
                </div>

                {/* Format */}
                <div style={{ marginBottom: 24 }}>
                    <div
                        style={{
                            fontSize: 14,
                            fontWeight: 600,
                            color: "#191F28",
                            marginBottom: 4,
                        }}
                    >
                        ê´‘ê³  í¬ë§·
                    </div>
                    <div
                        style={{
                            fontSize: 12,
                            color: "#8B95A1",
                            marginBottom: 12,
                        }}
                    >
                        ìƒì„±í•  ê´‘ê³  í˜•ì‹ì„ ì„ íƒí•˜ì„¸ìš”
                    </div>
                    <div style={{ display: "flex", gap: 8 }}>
                        {Object.entries(formatLabels).map(
                            ([key, { label, icon, desc }]) => {
                                const isSelected = selectedFormat === key
                                return (
                                    <button
                                        key={key}
                                        onClick={() => setSelectedFormat(key)}
                                        style={{
                                            flex: 1,
                                            padding: "14px 10px",
                                            background: isSelected
                                                ? "rgba(0,214,143,0.08)"
                                                : "#FAFAFA",
                                            border: isSelected
                                                ? "1.5px solid #00D68F"
                                                : "1.5px solid transparent",
                                            borderRadius: 12,
                                            textAlign: "center",
                                            cursor: "pointer",
                                        }}
                                    >
                                        <div
                                            style={{
                                                fontSize: 20,
                                                marginBottom: 6,
                                            }}
                                        >
                                            {icon}
                                        </div>
                                        <div
                                            style={{
                                                fontSize: 13,
                                                fontWeight: 600,
                                                color: isSelected
                                                    ? "#00A66E"
                                                    : "#191F28",
                                            }}
                                        >
                                            {label}
                                        </div>
                                        <div
                                            style={{
                                                fontSize: 10,
                                                color: "#8B95A1",
                                                marginTop: 2,
                                            }}
                                        >
                                            {desc}
                                        </div>
                                    </button>
                                )
                            }
                        )}
                    </div>
                </div>

                {/* Error */}
                {error && (
                    <div
                        style={{
                            padding: "12px 14px",
                            background: "rgba(255,77,79,0.08)",
                            borderRadius: 10,
                            marginBottom: 16,
                            fontSize: 13,
                            color: "#FF4D4F",
                        }}
                    >
                        âš ï¸ {error}
                    </div>
                )}

                {/* Generate Button */}
                <button
                    onClick={generateAd}
                    disabled={isLoading}
                    style={{
                        width: "100%",
                        padding: 16,
                        background: isLoading
                            ? "#E5E8EB"
                            : "linear-gradient(135deg, #00D68F, #00B377)",
                        border: "none",
                        borderRadius: 14,
                        fontSize: 15,
                        fontWeight: 600,
                        color: isLoading ? "#8B95A1" : "white",
                        cursor: isLoading ? "not-allowed" : "pointer",
                        boxShadow: isLoading
                            ? "none"
                            : "0 4px 16px rgba(0,214,143,0.3)",
                    }}
                >
                    {isLoading ? "â³ ê´‘ê³  ìƒì„± ì¤‘..." : "ê´‘ê³  ìƒì„±í•˜ê¸°"}
                </button>
            </div>

            {/* Right Panel */}
            <div style={{ flex: 1, padding: 32, overflowY: "auto" }}>
                <div style={{ marginBottom: 24 }}>
                    <h2
                        style={{
                            fontSize: 20,
                            fontWeight: 700,
                            color: "#191F28",
                            margin: 0,
                            marginBottom: 4,
                        }}
                    >
                        ìƒì„±ëœ ê´‘ê³ 
                    </h2>
                    <p style={{ fontSize: 13, color: "#8B95A1", margin: 0 }}>
                        GPT-4o ê¸°ë°˜ ë§ì¶¤ ë§ˆì¼€íŒ… ì¹´í”¼
                    </p>
                </div>

                {/* Empty State */}
                {!isLoading && !generatedAd && (
                    <div
                        style={{
                            display: "flex",
                            flexDirection: "column",
                            alignItems: "center",
                            justifyContent: "center",
                            height: "calc(100vh - 200px)",
                            textAlign: "center",
                        }}
                    >
                        <div
                            style={{
                                width: 80,
                                height: 80,
                                background: "white",
                                borderRadius: 20,
                                display: "flex",
                                alignItems: "center",
                                justifyContent: "center",
                                fontSize: 36,
                                marginBottom: 20,
                                boxShadow: "0 4px 12px rgba(0,0,0,0.06)",
                            }}
                        >
                            âœ¨
                        </div>
                        <h3
                            style={{
                                fontSize: 18,
                                fontWeight: 600,
                                color: "#191F28",
                                margin: 0,
                                marginBottom: 8,
                            }}
                        >
                            ê´‘ê³ ë¥¼ ìƒì„±í•´ë³´ì„¸ìš”
                        </h3>
                        <p
                            style={{
                                fontSize: 14,
                                color: "#8B95A1",
                                margin: 0,
                                lineHeight: 1.6,
                            }}
                        >
                            ì™¼ìª½ì—ì„œ ê²½ìŸì‚¬ì™€ ê´‘ê³  í¬ë§·ì„ ì„ íƒí•˜ê³ 
                            <br />
                            ìƒì„± ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”
                        </p>
                    </div>
                )}

                {/* Loading State */}
                {isLoading && (
                    <div
                        style={{
                            display: "flex",
                            flexDirection: "column",
                            alignItems: "center",
                            justifyContent: "center",
                            height: "calc(100vh - 200px)",
                        }}
                    >
                        <motion.div
                            animate={{ rotate: 360 }}
                            transition={{
                                duration: 1,
                                repeat: Infinity,
                                ease: "linear",
                            }}
                            style={{
                                width: 48,
                                height: 48,
                                border: "3px solid #E5E8EB",
                                borderTopColor: "#00D68F",
                                borderRadius: "50%",
                                marginBottom: 20,
                            }}
                        />
                        <p
                            style={{
                                fontSize: 15,
                                color: "#4E5968",
                                fontWeight: 500,
                                margin: 0,
                            }}
                        >
                            ê´‘ê³ ë¥¼ ìƒì„±í•˜ê³  ìˆì–´ìš”
                        </p>
                        <p
                            style={{
                                fontSize: 13,
                                color: "#8B95A1",
                                margin: 0,
                                marginTop: 4,
                            }}
                        >
                            GPT-4oê°€ ê²½ìŸì‚¬ë¥¼ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤...
                        </p>
                    </div>
                )}

                {/* Result */}
                {!isLoading && generatedAd && (
                    <div
                        style={{
                            background: "white",
                            borderRadius: 16,
                            padding: 24,
                            boxShadow: "0 2px 8px rgba(0,0,0,0.04)",
                        }}
                    >
                        <div
                            style={{
                                display: "flex",
                                alignItems: "center",
                                justifyContent: "space-between",
                                marginBottom: 16,
                                paddingBottom: 16,
                                borderBottom: "1px solid #F2F4F6",
                            }}
                        >
                            <div
                                style={{
                                    display: "flex",
                                    alignItems: "center",
                                    gap: 10,
                                }}
                            >
                                <div
                                    style={{
                                        width: 40,
                                        height: 40,
                                        borderRadius: 10,
                                        background: "rgba(0,214,143,0.1)",
                                        display: "flex",
                                        alignItems: "center",
                                        justifyContent: "center",
                                        fontSize: 20,
                                    }}
                                >
                                    {selectedFormat &&
                                        formatLabels[selectedFormat]?.icon}
                                </div>
                                <div>
                                    <div
                                        style={{
                                            fontSize: 15,
                                            fontWeight: 600,
                                            color: "#191F28",
                                        }}
                                    >
                                        {selectedFormat &&
                                            formatLabels[selectedFormat]
                                                ?.label}{" "}
                                        ê´‘ê³ 
                                    </div>
                                    <div
                                        style={{
                                            fontSize: 12,
                                            color: "#8B95A1",
                                        }}
                                    >
                                        ìƒì„± ì™„ë£Œ
                                    </div>
                                </div>
                            </div>
                            <button
                                onClick={copyToClipboard}
                                style={{
                                    padding: "8px 14px",
                                    background: "#F2F4F6",
                                    border: "none",
                                    borderRadius: 8,
                                    fontSize: 12,
                                    fontWeight: 600,
                                    color: "#4E5968",
                                    cursor: "pointer",
                                }}
                            >
                                ğŸ“‹ ë³µì‚¬
                            </button>
                        </div>
                        <div
                            style={{
                                padding: 20,
                                background: "#FAFAFA",
                                borderRadius: 12,
                                fontSize: 14,
                                lineHeight: 1.8,
                                color: "#333D4B",
                                whiteSpace: "pre-wrap",
                                maxHeight: "calc(100vh - 350px)",
                                overflowY: "auto",
                            }}
                        >
                            {generatedAd}
                        </div>
                        <div
                            style={{
                                marginTop: 16,
                                padding: "12px 14px",
                                background: "rgba(0,214,143,0.06)",
                                borderRadius: 10,
                                fontSize: 12,
                                color: "#00A66E",
                            }}
                        >
                            ğŸ’¡ Tip: ìƒì„±ëœ ê´‘ê³ ë¥¼ ìƒí™©ì— ë§ê²Œ ìˆ˜ì •í•´ì„œ
                            ì‚¬ìš©í•˜ì„¸ìš”
                        </div>
                    </div>
                )}
            </div>
        </div>
    )
}
